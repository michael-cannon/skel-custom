#!/bin/bash

# Helper for pulling DOMAIN_NAME live to local
#
# @author Michael Cannon <michael@peimic.com>
# @version $Id: l2l_stonebriar,v 1.2 2011/09/23 05:13:46 peimic.comprock Exp $

# configuration vars
DOMAIN_NAME="questgroup.de"
REMOTE_SERVER="web0@quest-club.de"
REMOTE_DIR_WWW="/var/www/web0/html/www2"
# RSYNC_MODS="--include=fileadmin/user_upload/ --exclude=**/fileadmin/user_upload/** --include=uploads/ --exclude=**/uploads/**"
RSYNC_MODS="--max-size=2m --include=fileadmin/user_upload/ --exclude=**/fileadmin/user_upload/**"
TYPO3_VERSION="4.5.11"
# DB_UTF8_CONVERT="true"

# load live2local function helpers
source ~/.skel/scripts/live2local.sh

# LOCAL_MODS[1]="cp typo3conf/ext/realurl/_.htaccess .htaccess"
# for whatever reason rsync fails, so do scp fall back
LOCAL_MODS[1]="scp -r web0@quest-club.de:~/html/www2/typo3conf/ext typo3conf/."
LOCAL_MODS[2]="scp -r web0@quest-club.de:~/html/www2/fileadmin/templates fileadmin/templates/."

l2l_site_typo3
l2l_do_sync ${@}
l2l_typo3_source ${TYPO3_VERSION} ${@}